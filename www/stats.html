<!DOCTYPE html>
<html>
<title>LED Mask</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="css/w3.css">
<link rel="stylesheet" href="css/all.css">
<style>
img {margin-bottom: -7px}
.w3-row-padding img {margin-bottom: 12px}
</style>
<script src="js/Chart.js" type="text/javascript"></script>
<script>
var totalRed = localStorage.getItem("rt") / 60;
var totalGreen = localStorage.getItem("gt") /60;
var totalBlue = localStorage.getItem("bt") /60;
var totalYellow = localStorage.getItem("yt") / 60;
var totalWhite = localStorage.getItem("wt") / 60;
var totalPurple = localStorage.getItem("pt") / 60;
var totalTurquoise = localStorage.getItem("tt") / 60;


window.onload = function(){
   document.getElementById('totalRedP').innerHTML = "Red Program: " + totalRed;
   document.getElementById('totalGreenP').innerHTML = "Green Program: " + totalGreen;
   document.getElementById('totalBlueP').innerHTML = "Blue Program: " + totalBlue;
   document.getElementById('totalYellowP').innerHTML = "Yellow Program: " + totalYellow;
   document.getElementById('totalWhiteP').innerHTML = "White Program: " + totalWhite;
   document.getElementById('totalPurpleP').innerHTML = "Purple Program: " + totalPurple;
   document.getElementById('totalTurquoiseP').innerHTML = "Turquoise Program: " + totalTurquoise;
}

</script>
<body>

<!-- Sidebar -->
<nav class="w3-sidebar w3-black w3-animate-top w3-xxlarge" style="display:none;padding-top:150px" id="mySidebar">
  <a href="javascript:void(0)" onclick="w3_close()" class="w3-button w3-black w3-xxlarge w3-padding w3-display-topright" style="padding:6px 24px">
    <i class="fa fa-remove"></i>
  </a>
  <div class="w3-bar-block w3-center">
    <img id="mainlogo" src="assets/icon.png" style="width:30%" alt="mainlogo">
    <a href="setup.html" class="w3-bar-item w3-button w3-text-grey w3-hover-black">Setup</a>
    <a href="stats.html" class="w3-bar-item w3-button w3-text-grey w3-hover-black">Statistics</a>
     <a href="index.html" class="w3-bar-item w3-button w3-text-grey w3-hover-black">Home</a>
  </div>
</nav>

<!-- !PAGE CONTENT! -->
<div class="w3-content" style="max-width:1500px">
<!-- Header -->
<div class="w3-center w3-margin-bottom">
<span class="w3-button w3-xxlarge w3-white w3-right" onclick="w3_open()"><i class="fa fa-bars"></i></span> 
<div class="w3-clear"></div>
<header class="w3-center w3-margin-bottom">
  <img id="mainlogo" src="assets/logo.png" style="width:100%" alt="mainlogo">
  <p><b>Your Usage</b></p>
  <p>This area shows you how many minutes you have done on each colour. You can track your progress and see how you are doing</p>
</header>
</div>
<!-- Main Content-->
<div class="w3-center w3-margin-bottom">
<canvas id="bar-chart" width="100%"></canvas>
</div>
<div class="w3-center w3-margin-bottom">
<p><b>Total Minutes on Program</b></p>
<p id="totalRedP"></p>
<p id="totalGreenP"></p>
<p id="totalBlueP"></p>
<p id="totalYellowP"></p>
<p id="totalWhiteP"></p>
<p id="totalPurpleP"></p>
<p id="totalTurquoiseP"></p>
</div>

<!-- End Page Content -->
</div>

<!-- Footer -->
<footer class="w3-container w3-padding-64 w3-light-grey w3-center w3-opacity w3-xlarge" style="margin-top:128px"> 
<img id="mainlogo" src="assets/icon.png" style="width:30%" alt="mainlogo">
</footer>
 
<script>
// Toggle grid padding
function myFunction() {
  var x = document.getElementById("myGrid");
  if (x.className === "w3-row") {
    x.className = "w3-row-padding";
  } else { 
    x.className = x.className.replace("w3-row-padding", "w3-row");
  }
}

// Open and close sidebar
function w3_open() {
  document.getElementById("mySidebar").style.width = "100%";
  document.getElementById("mySidebar").style.display = "block";
}

function w3_close() {
  document.getElementById("mySidebar").style.display = "none";
}

// Bar chart
new Chart(document.getElementById("bar-chart"), {
    type: 'bar',
    data: {
      labels: ["Red", "Blue", "Green", "Yellow", "White","Purple","Turquoise"],
      datasets: [
        {
          label: "Time (minutes)",
          backgroundColor: ["rgba(255, 0, 0, 0.5)", "rgba(0, 0, 255, 0.5)","rgba(0, 255, 0, 0.5)","rgba(255, 242, 0, 0.5)","rgba(255, 255, 255, 0.5)","rgba(255, 0, 255, 0.5)","rgba(0, 206, 209, 0.5)"],
          borderColor: ["rgba(255, 0, 0, 1)", "rgba(0, 0, 255, 0.5)","rgba(0, 255, 0, 0.5)","rgba(255, 242, 0, 0.5)","rgba(0, 0, 0, 1)","rgba(255, 0, 255, 0.5)","rgba(255, 206, 209, 0.5)"],
          borderWidth: 1,
          data: [totalRed,totalBlue,totalGreen,totalYellow,totalWhite,totalPurple,totalTurquoise]
        }
      ]
    },
    options: {
      scales: {
        yAxes: [{
            ticks: {
                beginAtZero: true
            }
        }]
    },
      legend: { display: false },
      title: {
        display: true,
        text: 'Minutes On Each Colour (completed program)'
      }
    }
});
</script>
<script type="text/javascript">
   document.addEventListener('deviceready', onDeviceReady.bind(this), false);

   function onDeviceReady() {

   document.addEventListener("backbutton", onBackKeyDown, false);

  }

   function onBackKeyDown(e){

   e.preventDefault();

  window.location.replace("index.html");
  } 
</script>

</body>
</html>